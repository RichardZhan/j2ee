apply plugin: 'war'
//apply plugin: 'jetty' //too old, Jetty 6, use gretty plugin
apply plugin: 'org.akhikhl.gretty'

//Gretty Embedded Jetty
buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'org.akhikhl.gretty:gretty:+'
    }
}


dependencies {
    compile project(":springweb-core")

    runtime	'javax.servlet:jstl:1.2'

    //include in compile only, exclude in the war
    compile "javax.servlet:javax.servlet-api:3.1.0"

}

// Don't use Jetty8, even it's a servlet 3.0+ container,
// but not support non-jar WebApplicationInitializer scanning.
// It will cause "No Spring WebApplicationInitializer types detected on classpath"
gretty {
    port = 8080
    contextPath = 'spring4'
    servletContainer = 'jetty9' //tomcat7 or tomcat8
}

//For Eclipse IDE only
/*
eclipse {

    wtp {
        component {

            //define context path, default to project folder name
            contextPath = 'spring4'

        }

    }
}
*/

/*
jettyRun{
	contextPath = ""
	httpPort = 8080
	//httpsEnabled = true
	//jvmArgs = ['-Xmx1024M', '-XX:PermSize=128M', '-XX:MaxPermSize=256M']
	//debugSuspend = false
	reload = "automatic"
	scanIntervalSeconds = 2
}

jettyRunWar{
	contextPath = ""
	httpPort = 8080
}

// 自定义resource文件夹
sourceSets {
    main {
      resources.srcDirs = ['src/main/resources']
	}
}
*/